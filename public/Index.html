<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesion</title>
    <link rel="icon" type="image/png" href="imagen.png"> 
</head>
<body>
   <div class="Principal">
    <div class="imagen">
        <img src="imagen.jpg" alt="">
    </div>
    <div class="formulario">
        <h2>Bienvenido</h2>
        <p>Iniciar Sesíon</p>
        <form id="loginForm">
            <label for="email">correo electronico:</label>
            <br>
            <input type="email" id="email" required>
            <br>
            <label for="password">Contraseña:</label>
            <br>
            <input type="password" id="password" required>
            <br>
            <button type="submit">Iniciar Sesion</button>
            <br>
        </form>
        <i>¿No tienes una cuenta?<a href="registro.html">Registrate</a></i>
    </div>
   </div> 
   <script>   
   // Agrega un listener al formulario para manejar el evento submit
    document.getElementById('loginForm').addEventListener('submit', async function (e) {
        e.preventDefault(); // Evita que el navegador recargue la página

        // Obtiene los valores ingresados por el usuario
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        // Realiza una petición POST al servidor con los datos del usuario
        const res = await fetch('/login', {
            method: 'POST', // Método HTTP
            headers: {
                'Content-Type': 'application/json' // Indica que se envía JSON
            },
            body: JSON.stringify({ email, password }) // Convierte los datos a JSON
        });

        // Espera la respuesta del servidor en texto
        const text = await res.text();
        if (res.ok) {
            // Si la respuesta es exitosa, muestra un mensaje y redirige
            alert(text);
            window.location.href = 'principal.html'; // Redirige a la página de pasteles
        } else {
            // Si hay error, muestra el mensaje de error
            alert(text);
        }
    });
   </script>
</body>
</html>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #4a148c, #311b92);
  font-family: 'Poppins', sans-serif;
}

.Principal {
  display: flex;
  width: 90%;
  max-width: 1000px;
  height: 600px;
  border-radius: 16px;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(142,36,170,0.9), rgba(76,0,130,0.9));
  box-shadow: 0 8px 25px rgba(138, 5, 124, 0.7);
  transition: transform 0.3s ease;
}

.Principal:hover {
  transform: scale(1.02);
}

.imagen {
  flex: 1.3;
  overflow: hidden;
  border-top-left-radius: 16px;
  border-bottom-left-radius: 16px;
}

.imagen img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.85);
  transition: filter 0.3s ease;
}

.Principal:hover .imagen img {
  filter: brightness(1);
}

.formulario {
  flex: 1;
  background: #5e239d;
  color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px 30px;
  text-align: center;
  box-shadow: inset 0 0 40px #8e24aa88;
  border-top-right-radius: 16px;
  border-bottom-right-radius: 16px;
}

.formulario h2 {
  margin-bottom: 12px;
  font-size: 30px;
  font-weight: 600;
  letter-spacing: 1px;
  text-shadow: 0 0 8px #d500f9;
}

.formulario p {
  margin-bottom: 30px;
  font-size: 18px;
  color: #d1c4e9;
  font-weight: 400;
}

.formulario label {
  align-self: flex-start;
  margin-left: 10%;
  margin-top: 18px;
  font-size: 15px;
  font-weight: 600;
  color: #ede7f6;
  text-shadow: 0 0 3px #7b1fa2;
}

.formulario input {
  width: 80%;
  max-width: 280px;
  padding: 12px 15px;
  margin-top: 8px;
  margin-bottom: 20px;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  background: #42275a;
  color: #e1bee7;
  box-shadow: inset 0 2px 8px #311b4f;
  transition: background 0.3s, color 0.3s;
}

.formulario input::placeholder {
  color: #b39ddb;
  font-style: italic;
}

.formulario input:focus {
  outline: none;
  background: #5c2a8e;
  color: #fff;
  box-shadow: 0 0 8px #d500f9;
}

.formulario button {
  margin-top: 30px;
  width: 80%;
  max-width: 280px;
  padding: 14px;
  background: linear-gradient(90deg, #d500f9, #aa00ff);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: 17px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 0 15px #d500f9;
  transition: background 0.4s, box-shadow 0.4s, transform 0.2s;
}

.formulario button:hover {
  background: linear-gradient(90deg, #aa00ff, #d500f9);
  box-shadow: 0 0 25px #aa00ff;
  transform: scale(1.05);
}

/* Botón regresar */
.formulario .btn-regresar {
  margin-top: 15px;
  width: 80%;
  max-width: 280px;
  padding: 12px;
  background: transparent;
  border: 2px solid #d500f9;
  color: #d500f9;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.formulario .btn-regresar:hover {
  background: #d500f9;
  color: #fff;
  box-shadow: 0 0 15px #d500f9;
}

/* Texto inferior */
.formulario i {
  margin-top: 35px;
  font-size: 14px;
  color: #d1c4e9;
}

.formulario a {
  color: #d500f9;
  text-decoration: underline;
  margin-left: 6px;
  font-weight: 600;
  transition: color 0.3s ease;
}

.formulario a:hover {
  color: #ffeb3b;
}
</style>